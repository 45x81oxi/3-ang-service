<div class="container  mt-5">
  <div class="card mb-5" id="form">
    <h2 class="title text-center mt-5">Add new post</h2>
    <div class="card-body">
      <form novalidate (ngSubmit)="onSubmit(form)" #form="ngForm">
        <div class="form-group row">
          <label for="title" class="col-sm-2 col-form-label">Title<span>*</span></label>
          <div class="col-sm-10">
            <input
              type="text"
              id="title"
              class="form-control"
              [(ngModel)]="post.title"
              [ngClass]="{'is-invalid': itemTitle.errors && form.submitted}"
              #itemTitle="ngModel"
              name="title"
              placeholder="Title"
              required
              minlength="2"
            >
            <div class="invalid-feedback" [hidden]="!itemTitle.errors?.required">title required</div>
            <div class="invalid-feedback" [hidden]="!itemTitle.errors?.minlength">title must be at 2 chars</div>
          </div>
          <!--/ col-->
          <label for="body" class="col-sm-2 col-form-label">Text<span>*</span></label>
          <div class="col-sm-10">
          <textarea class="form-control" id="exampleFormControlTextarea1" rows="2"
                    type="text"
                    id="body"
                    class="form-control"
                    [(ngModel)]="post.body"
                    [ngClass]="{'is-invalid': itemBody.errors && form.submitted}"
                    #itemBody="ngModel"
                    placeholder="..."
                    name="body"
                    required
                    minlength="4"
          >
         </textarea>
            <div class="invalid-feedback" [hidden]="!itemBody.errors?.required">Item body required</div>
            <div class="invalid-feedback" [hidden]="!itemBody.errors?.minlength">Item body must be at 4 chars
            </div>
          </div>
          <!--/ col-->
        </div>
        <!--/ form-group row-->
        <div class="col-sm-12 text-right">
          <button type="submit" class="btn btn-primary">Add</button>
        </div>
      </form>
      <!--/ form-->
    </div>
  </div>
  <!--/ card-->

  <ngx-spinner
    bdColor="rgba(255, 255, 255)"
    size="medium"
    color="#000"
    type="ball-spin"
  ></ngx-spinner>
  <!--/ ngx-spinner-->
  <div class="row">
    <div class="col col-6 mb-3" *ngFor="let post of posts; let i=index">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">{{ post.title }}</h4>
          <p class="card-title">{{ post.body }}</p>
          <div class=" clearfix">
            <button type="button" class="btn btn-secondary float-left"
                    (click)="post.showCommit = !post.showCommit; showReviews(post.id)">
              Comments
            </button>
            <button type="button" class="btn btn-secondary float-right  btn-danger" *ngIf="isAdmin"
                    (click)="onDelete(post.id, i)">Delete
            </button>
          </div>
          <div class="card commit" *ngIf="post.showCommit">
            <div class="card-body  commit" *ngFor="let comment of post.reviews">
              <h5>{{comment.name}}</h5>
              <p>{{comment.email}}</p>
              <p>{{comment.body}}</p>
            </div>
            <!--/ card-body commit-->
          </div>
          <!--/ card commit-->
        </div>
        <!--/ card-body-->
      </div>
      <!--/ card-->
    </div>
    <!--/ col-->
  </div>
  <!--/ row-->
</div>
<!--/ container-->


